<!DOCTYPE html>
<html lang="en">
  <head>
   
    <title>View Attendance</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="/css/main.css" />
    <!-- Font-icon css-->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
  </head>
  <body class="app sidebar-mini">
    <!-- Navbar-->

    <%- include('./modules/header') %>

    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>

    <%- include('./modules/sidebar') %>

    <main class="app-content">
      <div class="app-title">
        <div>
          <h1><i class="bi bi-table"></i>View Attendance</h1>
        </div>
        <ul class="app-breadcrumb breadcrumb">
          <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
          <li class="breadcrumb-item"><a href="/api/admin">Dashboard</a></li>
          <li class="breadcrumb-item active">View Attendance</li>
        </ul>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="tile">
            <h3 class="tile-title">Attendance details</h3>
            <table class="table table-striped text-center">
             
          <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Staff Name</th>
                <th>Phone</th>
                <th>Place</th>
                <th>Date</th>
                <th>Present</th>
            </tr>
        </thead>
        <tbody>
            <% Data.attendance.forEach(function(record, index) { %>
            <tr>
                <td><%= index + 1 %></td>
                <td><%= Data.name %></td>
                <td><%= Data.phone %></td>
                <td><%= Data.place %></td>
                <td><%= record.date %></td>
                <td><%= record.isPresent ? 'Yes' : 'No' %></td>
            </tr>
            <% }); %>
            <tr>
        <td colspan="5"></td> <!-- Leave empty cells for the first five columns -->
        <td style="font-weight: 800;font-size: 1rem;">Total Attendance: <%= Data.attendance.length %></td> <!-- Calculate and display total attendance count -->
    </tr>
        </tbody>
         
          </div>
        </div>
      </div>
    </main>
    <!-- Essential javascripts for application to work-->
    <script src="/js/jquery-3.7.0.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/main.js"></script>
    <!-- Page specific javascripts-->
    <!-- Google analytics script-->
    <script type="text/javascript">
      if (document.location.hostname == 'pratikborsadiya.in') {
        (function (i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r;
          (i[r] =
            i[r] ||
            function () {
              (i[r].q = i[r].q || []).push(arguments);
            }),
            (i[r].l = 1 * new Date());
          (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
          a.async = 1;
          a.src = g;
          m.parentNode.insertBefore(a, m);
        })(
          window,
          document,
          'script',
          '//www.google-analytics.com/analytics.js',
          'ga'
        );
        ga('create', 'UA-72504830-1', 'auto');
        ga('send', 'pageview');
      }



          // Calculate total attendance count
  
    </script>
  </body>
</html>
